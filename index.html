<!doctype html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Relat√≥rio do Sistema</title>
  <style>
    :root{
      --bg:#0b0f14;
      --card:#0f1621;
      --card2:#0d1320;
      --txt:#e8eef6;
      --muted:#9fb0c3;
      --accent:#ff2d6f;
      --accent2:#22c55e;
      --warn:#f59e0b;
      --danger:#ef4444;
      --border:rgba(255,255,255,.08);
      --shadow: 0 24px 80px rgba(0,0,0,.55);
    }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      background: radial-gradient(1200px 600px at 20% 10%, rgba(255,45,111,.16), transparent),
                  radial-gradient(900px 500px at 80% 70%, rgba(34,197,94,.10), transparent),
                  var(--bg);
      color:var(--txt);
    }
    .wrap{width:min(720px,92vw); padding:18px;}
    .topbar{
      display:flex; justify-content:space-between; align-items:center;
      gap:12px; margin-bottom:12px; opacity:.9;
      font-size:13px; color:var(--muted);
    }
    .pill{
      padding:6px 10px; border:1px solid var(--border); border-radius:999px;
      background: rgba(255,255,255,.03);
      display:inline-flex; align-items:center; gap:8px;
    }
    .dot{width:8px;height:8px;border-radius:999px;background:var(--accent2); box-shadow:0 0 0 3px rgba(34,197,94,.15)}
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.03), transparent), var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .cardHeader{
      padding:16px 16px 12px;
      border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .title{
      font-weight:900; letter-spacing:.2px; display:flex; align-items:center; gap:10px;
    }
    .badge{
      font-size:12px; color:var(--muted);
      border:1px solid var(--border); padding:4px 8px; border-radius:999px;
      background: rgba(255,255,255,.03);
      white-space:nowrap;
    }
    .content{padding:16px;}
    .big{
      font-size:22px; font-weight:900; margin:0 0 8px;
      line-height:1.15;
    }
    .sub{margin:0 0 14px; color:var(--muted); line-height:1.35;}
    .alert{
      border:1px solid rgba(239,68,68,.35);
      background: rgba(239,68,68,.09);
      border-radius:14px;
      padding:12px;
      display:flex; gap:10px; align-items:flex-start;
      margin:12px 0;
    }
    .alert b{color:#ffd3db}
    .kvs{
      display:grid; gap:10px;
      margin: 14px 0 6px;
    }
    .kv{
      padding:12px; border-radius:14px;
      border:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.03), transparent), var(--card2);
      display:flex; justify-content:space-between; gap:14px;
      font-size:14px;
    }
    .kv span{color:var(--muted)}
    .kv b{font-weight:900}
    .hr{height:1px;background:var(--border); margin:14px 0}
    .buttons{
      display:flex; flex-wrap:wrap; gap:10px;
      margin-top:14px;
      position:relative;
    }
    button{
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      color:var(--txt);
      padding:12px 14px;
      border-radius:14px;
      font-weight:900;
      font-size:14px;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    button:hover{transform: translateY(-1px); background: rgba(255,255,255,.06);}
    button.primary{border-color: rgba(255,45,111,.45); background: rgba(255,45,111,.12)}
    button.good{border-color: rgba(34,197,94,.45); background: rgba(34,197,94,.10)}
    button.warn{border-color: rgba(245,158,11,.45); background: rgba(245,158,11,.10)}
    button.danger{border-color: rgba(239,68,68,.45); background: rgba(239,68,68,.10)}
    button:disabled{opacity:.55; cursor:not-allowed; transform:none;}
    .tiny{font-size:12px;color:var(--muted);margin-top:10px}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
    .progressWrap{margin:14px 0 4px;}
    .progressLine{
      height:10px; border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      overflow:hidden;
    }
    .progressBar{
      height:100%; width:0%;
      background: linear-gradient(90deg, rgba(255,45,111,.9), rgba(34,197,94,.9));
      transition: width .35s ease;
    }
    .bars{display:grid; gap:10px; margin-top:12px;}
    .barRow{display:grid; grid-template-columns: 140px 1fr 60px; gap:10px; align-items:center;}
    .barRow .name{color:var(--muted); font-size:13px;}
    .barTrack{
      height:10px; border-radius:999px; border:1px solid var(--border);
      background: rgba(255,255,255,.04); overflow:hidden;
    }
    .barFill{height:100%; width:0%; background: rgba(255,255,255,.55); transition: width .35s ease;}
    .barVal{font-size:13px; color:var(--muted); text-align:right;}
    .footerNote{
      padding:12px 16px;
      border-top:1px solid var(--border);
      color:var(--muted);
      font-size:12px;
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }
    .shake{animation: shake .35s ease;}
    @keyframes shake{
      0%,100%{transform:translateX(0)}
      25%{transform:translateX(-6px)}
      50%{transform:translateX(6px)}
      75%{transform:translateX(-4px)}
    }

    /* bot√£o fuj√£o: quando ativado, vira absolute dentro da √°rea .buttons */
    .runner{
      position:absolute !important;
      right:0;
      top:0;
      will-change: left, top;
    }

    /* ‚ÄúMatrix flash‚Äù (para susto leve) */
    .flash{
      position:absolute;
      inset:0;
      pointer-events:none;
      background: rgba(0,255,120,.08);
      opacity:0;
      transition: opacity .15s ease;
    }
    .flash.on{opacity:1;}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="pill"><span class="dot"></span><span id="statusText">Sistema online</span></div>
      <div class="pill mono" id="sessionPill">Sess√£o: DJ01</div>
    </div>

    <div class="card" id="card">
      <div class="flash" id="flash"></div>

      <div class="cardHeader">
        <div class="title">
          <span>üßæ</span>
          <span id="headerTitle">Relat√≥rio de Atividade</span>
        </div>
        <span class="badge mono" id="stepBadge">PASSO 1/7</span>
      </div>

      <div class="content" id="content"></div>

      <div class="footerNote">
        <span class="mono" id="footLeft">Build: v2.0.0</span>
        <span id="footRight">Modo: Simula√ß√£o (zoeira)</span>
      </div>
    </div>
  </div>

  <script>
    // Personaliza√ß√£o via URL: ?nome=Djoi
    const params = new URLSearchParams(location.search);
    const NOME = (params.get("nome") || "Djoi").trim() || "Djoi";

    const content = document.getElementById("content");
    const stepBadge = document.getElementById("stepBadge");
    const headerTitle = document.getElementById("headerTitle");
    const statusText = document.getElementById("statusText");
    const sessionPill = document.getElementById("sessionPill");
    const card = document.getElementById("card");
    const flash = document.getElementById("flash");

    sessionPill.textContent = "Sess√£o: DJ01 ‚Ä¢ " + NOME.toUpperCase();

    const state = {
      step: 1,
      blockedExits: 0,
      audioUnlocked: false
    };

    /* ---------- Som (beeps) ---------- */
    let audioCtx = null;
    function ensureAudio(){
      if (state.audioUnlocked) return;
      try{
        audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)();
        if (audioCtx.state === "suspended") audioCtx.resume();
        state.audioUnlocked = true;
      }catch(e){}
    }
    function beep(freq=740, ms=90, type="sine", gain=0.06){
      if (!audioCtx || !state.audioUnlocked) return;
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = type;
      o.frequency.value = freq;
      g.gain.value = gain;
      o.connect(g); g.connect(audioCtx.destination);
      o.start();
      setTimeout(()=>{ try{o.stop();}catch(e){} }, ms);
    }
    function beepSeq(list){
      // list: [{f,ms,delay}]
      let t = 0;
      for (const it of list){
        setTimeout(()=>beep(it.f, it.ms), t);
        t += (it.delay ?? it.ms);
      }
    }

    /* ---------- Vibra√ß√£o ---------- */
    function vibrate(pattern){
      try{
        if (navigator.vibrate) navigator.vibrate(pattern);
      }catch(e){}
    }

    /* ---------- Helpers DOM ---------- */
    function el(tag, attrs={}, children=[]){
      const node = document.createElement(tag);
      for (const [k,v] of Object.entries(attrs)){
        if (k === "class") node.className = v;
        else if (k === "html") node.innerHTML = v;
        else if (k.startsWith("on") && typeof v === "function") node.addEventListener(k.slice(2), v);
        else node.setAttribute(k, v);
      }
      for (const ch of children){
        if (typeof ch === "string") node.appendChild(document.createTextNode(ch));
        else node.appendChild(ch);
      }
      return node;
    }
    function clear(node){ while(node.firstChild) node.removeChild(node.firstChild); }
    function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }

    function shake(){
      card.classList.remove("shake"); void card.offsetWidth; card.classList.add("shake");
    }
    function flashOnce(){
      flash.classList.add("on");
      setTimeout(()=>flash.classList.remove("on"), 120);
    }

    function blockedExit(){
      state.blockedExits++;
      ensureAudio();
      shake(); flashOnce();
      beepSeq([{f:220,ms:90,delay:110},{f:180,ms:120,delay:140}]);
      vibrate([60,40,60]);
      statusText.textContent = "A√ß√£o bloqueada";
      setTimeout(()=> statusText.textContent = "Sistema online", 900);
    }

    /* ---------- Bot√£o fuj√£o ---------- */
    function makeRunner(btn, area){
      // coloca o bot√£o como absolute dentro da √°rea
      btn.classList.add("runner");

      function move(){
        const a = area.getBoundingClientRect();
        const b = btn.getBoundingClientRect();

        const maxX = a.width - b.width;
        const maxY = a.height - b.height;

        // se a √°rea for muito pequena, n√£o tenta
        if (maxX < 10 || maxY < 10) return;

        const pad = 4;
        const x = pad + Math.random() * (maxX - pad*2);
        const y = pad + Math.random() * (maxY - pad*2);

        btn.style.left = clamp(x, pad, maxX - pad) + "px";
        btn.style.top  = clamp(y, pad, maxY - pad) + "px";

        ensureAudio();
        beep(880, 45);
        vibrate(20);
      }

      // foge no mouse e no toque
      btn.addEventListener("mouseenter", move);
      btn.addEventListener("touchstart", (e)=>{ e.preventDefault(); move(); }, {passive:false});
      btn.addEventListener("click", (e)=>{ e.preventDefault(); move(); });

      // posi√ß√£o inicial
      setTimeout(move, 40);
    }

    /* ---------- Easter egg (Konami Code) ---------- */
    const konami = ["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];
    let kpos = 0;
    window.addEventListener("keydown", (e)=>{
      const key = e.key.length === 1 ? e.key.toLowerCase() : e.key;
      const target = konami[kpos];
      const match = (target.length === 1) ? (key === target) : (e.key === target);
      if (match){
        kpos++;
        if (kpos === konami.length){
          kpos = 0;
          secretMode();
        }
      } else {
        kpos = 0;
      }
    });

    function secretMode(){
      ensureAudio();
      beepSeq([{f:523,ms:80,delay:110},{f:659,ms:80,delay:110},{f:784,ms:120,delay:150}]);
      vibrate([30,30,30,60]);
      showPopup("üïπÔ∏è", `Easter egg desbloqueado! ${NOME}, parab√©ns: agora o sistema sabe que tu √©s gamer‚Ä¶ e mesmo assim chegas atrasado üòà`);
    }

    /* ---------- Render ---------- */
    function setStep(n){
      state.step = n;
      stepBadge.textContent = `PASSO ${n}/7`;
      render();
    }

    function render(){
      clear(content);

      if (state.step === 1){
        headerTitle.textContent = "Relat√≥rio do Sistema";
        content.append(
          el("p",{class:"big"},["‚ùå ERRO CR√çTICO DO SISTEMA"]),
          el("p",{class:"sub"},[
            `Comportamento suspeito detectado na sess√£o `,
            el("span",{class:"mono"},["DJ01"]),
            `. Utilizador: `,
            el("span",{class:"mono"},[NOME.toUpperCase()]),
            "."
          ]),
          el("div",{class:"alert"},[
            el("div",{},["‚ö†Ô∏è"]),
            el("div",{},[
              el("div",{},[el("b",{},["Aviso: "]), "n√£o feche esta p√°gina."]),
              el("div",{class:"tiny mono"},["C√≥digo: EXC-042 / Modo: AUTO-AN√ÅLISE"])
            ])
          ]),
          el("div",{class:"buttons"},[
            el("button",{class:"primary", onclick:()=>{ensureAudio(); beep(740,80); setStep(2);}},["üîç Analisar agora"]),
            el("button",{class:"danger", onclick:blockedExit},["‚ùå Sair"])
          ]),
          el("div",{class:"tiny"},[
            "Dica: tenta clicar em ‚ÄúSair‚Äù üòá"
          ])
        );
      }

      if (state.step === 2){
        headerTitle.textContent = "A gerar relat√≥rio‚Ä¶";
        content.append(
          el("p",{class:"big"},["‚è≥ Preparando an√°lise autom√°tica"]),
          el("p",{class:"sub"},[
            "Aguarde. O sistema est√° a compilar padr√µes comportamentais‚Ä¶"
          ]),
          el("div",{class:"progressWrap"},[
            el("div",{class:"progressLine"},[
              el("div",{class:"progressBar", id:"pbar"})
            ])
          ]),
          el("p",{class:"sub mono", id:"cdText"},["Iniciando‚Ä¶"])
        );

        const btnRow = el("div",{class:"buttons"},[
          el("button",{class:"good", id:"viewBtn", disabled:"true", onclick:()=>{ensureAudio(); beep(660,90); setStep(3);}},["‚ñ∂Ô∏è Ver relat√≥rio"])
        ]);
        content.append(btnRow);

        // countdown + beeps
        let t = 5;
        const cdText = document.getElementById("cdText");
        const pbar = document.getElementById("pbar");
        const viewBtn = document.getElementById("viewBtn");

        const tick = () => {
          const pct = ((5 - t) / 5) * 100;
          pbar.style.width = pct + "%";
          cdText.textContent = `A gerar relat√≥rio‚Ä¶ ${t}s`;

          // beeps e vibra√ß√£o leve (se suportar)
          ensureAudio();
          beep(520 + (5-t)*40, 55);
          vibrate(15);

          if (t <= 0){
            pbar.style.width = "100%";
            cdText.textContent = "Relat√≥rio conclu√≠do.";
            viewBtn.disabled = false;
            viewBtn.removeAttribute("disabled");
            ensureAudio();
            beepSeq([{f:784,ms:70,delay:90},{f:988,ms:90,delay:110}]);
            vibrate([30,20,40]);
            return;
          }
          setTimeout(()=>{ t--; tick(); }, 800);
        };

        setTimeout(()=>{ ensureAudio(); tick(); }, 300);
      }

      if (state.step === 3){
        headerTitle.textContent = "Perfil detectado";
        content.append(
          el("p",{class:"big"},["üß† Perfil carregado com sucesso"]),
          el("p",{class:"sub"},[
            "Identidade confirmada. A seguinte ficha foi montada com base em evid√™ncias (100% cient√≠ficas)."
          ]),
          el("div",{class:"kvs"},[
            kv("Nome", NOME),
            kv("Estado", "Online (mas‚Ä¶ responde?)"),
            kv("Dispositivo", "Telem√≥vel"),
            kv("Responsabilidade", "‚ùå Baixa"),
            kv("Pontualidade", "‚ùå Em an√°lise"),
            kv("WhatsApp", "‚ùå Irregular")
          ]),
          el("div",{class:"buttons"},[
            el("button",{class:"primary", onclick:()=>{ensureAudio(); beep(740,70); setStep(4);}},["üìä Ver detalhes"]),
            el("button",{class:"warn", onclick:()=>{ensureAudio(); beep(420,90); showPopup("üòê", "Real o suficiente para te preocupar‚Ä¶ s√≥ um bocadinho.");}},["‚ùì Isto √© real?"])
          ]),
          el("div",{class:"tiny"},[
            "Dica secreta: no teclado, tenta o Konami code üòâ (‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA)"
          ])
        );
      }

      if (state.step === 4){
        headerTitle.textContent = "Padr√µes comportamentais";
        content.append(
          el("p",{class:"big"},["üìä Detalhes do comportamento"]),
          el("p",{class:"sub"},[
            "Foram identificados padr√µes recorrentes. Clique com responsabilidade."
          ]),
          el("div",{class:"kvs"},[
            kv("Padr√£o #1", "Promete ‚Äúj√° vou‚Äù"),
            kv("Padr√£o #2", "Some por horas"),
            kv("Padr√£o #3", "Aparece quando j√° acabou"),
            kv("Padr√£o #4", "‚ÄúVi agora‚Äù (cl√°ssico)")
          ]),
          el("div",{class:"buttons"},[
            el("button",{class:"primary", onclick:()=>{ensureAudio(); beep(720,70); setStep(5);}},["üìà Ver estat√≠sticas"]),
            el("button",{onclick:()=>setStep(3)},["üîô Voltar ao perfil"])
          ])
        );
      }

      if (state.step === 5){
        headerTitle.textContent = "Estat√≠sticas";
        content.append(
          el("p",{class:"big"},["üìà Estat√≠sticas oficiais"]),
          el("p",{class:"sub"},[
            "Medi√ß√µes feitas com instrumentos avan√ßados: ",
            el("span",{class:"mono"},["Olho + Mem√≥ria + Zoa√ß√£o"]),
            "."
          ])
        );

        const bars = el("div",{class:"bars"},[
          bar("Pontualidade", 12),
          bar("Cumprimento de planos", 18),
          bar("Desculpas criativas", 94),
          bar("Lealdade de amigo", 100)
        ]);
        content.append(bars);

        setTimeout(()=>{
          for (const fill of content.querySelectorAll(".barFill")){
            fill.style.width = fill.getAttribute("data-pct") + "%";
          }
          ensureAudio();
          beepSeq([{f:660,ms:55,delay:70},{f:740,ms:55,delay:70},{f:820,ms:55,delay:70}]);
        }, 80);

        content.append(
          el("div",{class:"hr"}),
          el("div",{class:"buttons", id:"btnArea"},[
            el("button",{class:"primary", onclick:()=>{ensureAudio(); beep(740,90); setStep(6);}},["üßæ Gerar relat√≥rio final"]),
            el("button",{class:"danger", id:"exitBtn"},["‚ùå Encerrar sistema"])
          ]),
          el("div",{class:"tiny"},[
            "Encerrar sistema: experimental. Aproxima o dedo com cuidado üòà"
          ])
        );

        // ativa o bot√£o fuj√£o aqui
        const area = document.getElementById("btnArea");
        const exitBtn = document.getElementById("exitBtn");
        makeRunner(exitBtn, area);
      }

      if (state.step === 6){
        headerTitle.textContent = "Relat√≥rio final";
        content.append(
          el("p",{class:"big"},["üí• RELAT√ìRIO FINAL CONCLU√çDO"]),
          el("p",{class:"sub"},[
            "Antes de continuar: respira. Isto vai doer um bocadinho (no ego)."
          ]),
          el("div",{class:"alert"},[
            el("div",{},["‚úÖ"]),
            el("div",{},[
              el("div",{},[
                el("b",{},["Calma, "]), `${NOME}. `
              ]),
              el("div",{},[
                "Isto n√£o √© um sistema secreto. ",
                "√â s√≥ o teu melhor amigo a provar que te conhece demasiado bem üòà"
              ])
            ])
          ]),
          el("div",{class:"kvs"},[
            kv("Conclus√£o", "Ainda √©s atrasado, mas √©s nosso ‚ù§Ô∏è"),
            kv("Risco", "Moderado (pode levar roast)"),
            kv("Recomenda√ß√£o", "Responder mensagens + aparecer no hor√°rio")
          ]),
          el("div",{class:"buttons"},[
            el("button",{class:"good", onclick:()=>{ensureAudio(); beepSeq([{f:784,ms:70,delay:90},{f:988,ms:90,delay:110}]); setStep(7);}},["‚úÖ Aceitar a verdade"]),
            el("button",{onclick:()=>setStep(1)},["üîÅ Rever do in√≠cio"])
          ])
        );
      }

      if (state.step === 7){
        headerTitle.textContent = "Caso encerrado";
        content.append(
          el("p",{class:"big"},["ü§° Caso arquivado com sucesso"]),
          el("p",{class:"sub"},["Resultado final do sistema:"]),
          el("div",{class:"kvs"},[
            kv("Status", "Amigo aprovado ‚úÖ"),
            kv("Atraso cr√≥nico", "Confirmado ‚úÖ"),
            kv("Caos", "Elevado ‚úÖ"),
            kv("Carisma", "Infelizmente alto ‚úÖ")
          ]),
          el("div",{class:"buttons"},[
            el("button",{class:"primary", onclick:()=>{ensureAudio(); beep(880,90); showPopup("üéâ", `Parab√©ns, ${NOME}: foste auditado e continuas amigo. Agora responde no WhatsApp üòà`);}},["üéâ Ver certificado"]),
            el("button",{class:"good", onclick:()=>{ensureAudio(); beepSeq([{f:523,ms:70,delay:90},{f:659,ms:70,delay:90},{f:784,ms:120,delay:140}]); showPopup("‚úÖ", "Sistema encerrado. At√© √† pr√≥xima auditoria üòà");}},["üö™ Sair do sistema"]),
            el("button",{onclick:()=>setStep(1)},["üîÅ Repetir zoeira"])
          ]),
          el("div",{class:"tiny"},[
            "Dica de envio: ‚ÄúDjoi, abre isso e tenta clicar em ‚ÄòEncerrar sistema‚Äô üòá‚Äù"
          ])
        );
      }
    }

    function kv(k, v){
      return el("div",{class:"kv"},[
        el("span",{},[k]),
        el("b",{},[v])
      ]);
    }

    function bar(name, pct){
      return el("div",{class:"barRow"},[
        el("div",{class:"name"},[name]),
        el("div",{class:"barTrack"},[
          el("div",{class:"barFill", "data-pct": String(pct)},[])
        ]),
        el("div",{class:"barVal"},[pct + "%"])
      ]);
    }

    // Popup simples
    function showPopup(icon, text){
      const overlay = el("div", {
        style: `
          position:fixed; inset:0; display:grid; place-items:center;
          background: rgba(0,0,0,.55); padding:18px; z-index:9999;
        `
      });
      const box = el("div", {
        style: `
          width:min(560px,92vw);
          background:#0f1621;
          border:1px solid rgba(255,255,255,.10);
          border-radius:18px;
          box-shadow: 0 30px 90px rgba(0,0,0,.65);
          padding:18px;
        `
      }, [
        el("div",{style:"display:flex; align-items:center; gap:10px; font-weight:900; font-size:18px; margin-bottom:10px;"},[
          el("div",{},[icon]),
          el("div",{},["Mensagem do sistema"])
        ]),
        el("div",{style:"color:rgba(232,238,246,.85); line-height:1.35; margin-bottom:14px;"},[text]),
        el("div",{style:"display:flex; gap:10px; justify-content:flex-end;"},[
          el("button",{class:"good", onclick:()=>document.body.removeChild(overlay)},["OK"])
        ])
      ]);
      overlay.addEventListener("click", (e)=>{ if(e.target === overlay) document.body.removeChild(overlay); });
      overlay.appendChild(box);
      document.body.appendChild(overlay);
    }

    // desbloqueia √°udio no primeiro toque/click (regras do browser)
    window.addEventListener("pointerdown", ()=>ensureAudio(), {once:true});

    render();
  </script>
</body>
</html>